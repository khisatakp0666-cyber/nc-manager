ğŸ“„ èµ·å‹•æ‰‹é †ã¾ã¨ã‚ï¼ˆ2025å¹´9æœˆæ™‚ç‚¹ï¼‰


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â‘  Spring Bootï¼ˆrecord-apiï¼‰èµ·å‹•
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â–  å®Ÿè¡Œå ´æ‰€ï¼š
N:\666 ä¹…ç”°å’Œæµ\shared-server\record-api

â–  å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ï¼ˆPowerShellï¼‰ï¼š
cd "N:\666 ä¹…ç”°å’Œæµ\shared-server\record-api"   â† record-api ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•  
.\gradlew.bat bootRun                             â† Spring Boot ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ï¼ˆGradleï¼‰

http://127.0.0.1:8081/api/records/health

â–  æˆåŠŸãƒ­ã‚°ä¾‹ï¼š
Tomcat started on port(s): 8081 (http)
Started RecordApiApplication

â–  Swagger UI ã‚¢ã‚¯ã‚»ã‚¹ï¼š
http://localhost:8081/swagger-ui/index.html


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â‘¡ Node.jsï¼ˆnc-managerï¼‰èµ·å‹•
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â–  å®Ÿè¡Œå ´æ‰€ï¼š
N:\666 ä¹…ç”°å’Œæµ\shared-server\nc-manager

â–  å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ï¼ˆPowerShellï¼‰ï¼š
node "N:\666 ä¹…ç”°å’Œæµ\shared-server\nc-manager\server.js"   â† server.js ã‚’ç›´æ¥èµ·å‹•

cd "N:\666 ä¹…ç”°å’Œæµ\shared-server-final\nc-manager"
node server.js

â–  æˆåŠŸãƒ­ã‚°ä¾‹ï¼š
ğŸ“¡ Server running at http://C20:3000

â–  ç”»é¢ã‚¢ã‚¯ã‚»ã‚¹ï¼š
http://localhost:3000/
ã¾ãŸã¯
http://192.168.70.113:3000/


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â‘¢ Swagger UI ã‹ã‚‰ nc-manager ã‚’èµ·å‹•ï¼ˆè‡ªå‹•åŒ–ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â–  APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼š
POST /api/nc/run

â–  Javaå´ã® ProcessBuilder è¨­å®šä¾‹ï¼š
ProcessBuilder pb = new ProcessBuilder(
    "cmd.exe", "/c",
    "node", "\"N:\\666 ä¹…ç”°å’Œæµ\\shared-server\\nc-manager\\server.js\""
);

â–  å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ï¼ˆPowerShellï¼‰ï¼š
cd .\electron-ui\
cd "N:\666 ä¹…ç”°å’Œæµ\shared-server\nc-manager\electron-ui"
npm start

â–  å®Ÿè¡Œçµæœï¼š
server.js ãŒè‡ªå‹•èµ·å‹• â†’ ç”»é¢è¡¨ç¤ºç¢ºèªã¸


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è£œè¶³ï¼šèµ·å‹•é †ã®ãŠã™ã™ã‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Spring Bootï¼ˆrecord-apiï¼‰ã‚’èµ·å‹•
2. Node.jsï¼ˆnc-managerï¼‰ã‚’èµ·å‹•
3. Swagger UI ã‹ã‚‰è‡ªå‹•èµ·å‹•ãƒ†ã‚¹ãƒˆï¼ˆä»»æ„ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… ã‚³ãƒŸãƒƒãƒˆã®ã‚„ã‚Šæ–¹ä¸€è¦§

ğŸ”¹ 1. VSCodeã§ã®æ“ä½œæ‰‹é †

| â‘  ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›† | ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦å¤‰æ›´ã™ã‚‹
| â‘¡ ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚° | ã‚½ãƒ¼ã‚¹ç®¡ç†ãƒ‘ãƒãƒ«ã§ã€Œï¼‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ï¼ˆå¤‰æ›´ â†’ ã‚¹ãƒ†ãƒ¼ã‚¸æ¸ˆã¿ã«ç§»å‹•ï¼‰
| â‘¢ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ› | ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€æ¬„ã«ã‚³ãƒŸãƒƒãƒˆå†…å®¹ã‚’è¨˜è¿°
| â‘£ ã‚³ãƒŸãƒƒãƒˆ | ã€Œâœ”ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ï¼ˆã¾ãŸã¯ Ctrl + Enterï¼‰
| â‘¤ Push | å³ä¸‹ã®é€šçŸ¥ã§ã€ŒPushã—ã¾ã™ã‹ï¼Ÿã€â†’ã€Œã¯ã„ã€ ã¾ãŸã¯ Ctrl + Shift + P â†’ ã€ŒGit: Pushã€

# âœ… Git ãƒªãƒã‚¸ãƒˆãƒªã‚’åˆæœŸåŒ–
git init

# âœ… ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ã«è¿½åŠ 
git add .

# âœ… åˆå›ã‚³ãƒŸãƒƒãƒˆï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è‡ªç”±ï¼‰
git commit -m "åˆæœŸã‚³ãƒŸãƒƒãƒˆ"

ğŸ”¹ 2. Gitã‚³ãƒãƒ³ãƒ‰ã§ã®æ“ä½œæ‰‹é †ï¼ˆPowerShellã‚„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰

| â‘  ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚° | git add . | ã™ã¹ã¦ã®å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ã«è¿½åŠ 
| â‘¡ ã‚³ãƒŸãƒƒãƒˆ | git commit -m "å¤‰æ›´å†…å®¹ã®èª¬æ˜" | ãƒ­ãƒ¼ã‚«ãƒ«ã«å±¥æ­´ã‚’è¨˜éŒ²
| â‘¢ Push | git push origin master | GitHubã«åæ˜ ï¼ˆèªè¨¼ãŒå¿…è¦ãªå ´åˆã‚ã‚Šï¼‰

ğŸ”¹ 3. ä¸€éƒ¨ã ã‘ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ»ã‚³ãƒŸãƒƒãƒˆã—ãŸã„å ´åˆ

git add record-api/record-api_HELP.md
git commit -m "HELP.mdè¿½åŠ "
git push origin master

â†’ å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã ã‘é¸ã‚“ã§å±¥æ­´ã«æ®‹ã™ã“ã¨ã‚‚å¯èƒ½ã§ã™


Remove-Item -Recurse -Force "$env:LOCALAPPDATA\electron-builder\Cache"
npx rimraf .\node_modules
npm install
npm run dist
Start-Process "dist\NCManagerUI Setup 1.0.0.exe"


â‘  tree ã‚³ãƒãƒ³ãƒ‰ã§å…¨ä½“æ§‹æˆã‚’å‡ºåŠ›ï¼ˆPowerShellï¼‰
tree /F > folder-structure.txt

# æ­£ã—ã„é †åºã§å®Ÿè¡Œ
tree /F /A > folder-structure.txt
Select-String -Path folder-structure.txt -Pattern "nc-manager"

âœ… è£œè¶³ï¼šnode.log ã®ç¢ºèªæ–¹æ³•

cd .\electron-ui\
npm run dist
Test-Path "dist/win-unpacked/resources/node/node.exe"
Start-Process "dist\win-unpacked\NCManagerUI.exe"
Get-Content "$env:APPDATA\NCManagerUI\node.log" -Tail 50


java -jar "N:\666 ä¹…ç”°å’Œæµ\shared-server-final\record-api\build\libs\record-api-0.0.1-SNAPSHOT.jar" --server.port=8081 --server.address=localhost

netstat -ano | findstr :8081

curl http://localhost:8081/

å†ãƒ“ãƒ«ãƒ‰

cd "N:\666 ä¹…ç”°å’Œæµ\shared-server-final\record-api"
mvn clean package

## èµ·å‹•ã¨åˆæœŸãƒ‡ãƒ¼ã‚¿ç¢ºèªæ‰‹é †

1. `record-api` ã«ç§»å‹•ã—ã¦ `.jar` ã‚’èµ·å‹•  
   `java -jar target/record-api-0.0.1-SNAPSHOT.jar`

2. åˆ¥ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§CSVã‚’å–å¾—  
   `curl -OJ http://localhost:8082/api/records/export`

3. `records.csv` ã«ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¬ã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸï¼š


## æ³¨æ„ç‚¹

- `records.csv` ãŒæ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆã€`curl -OJ` ã¯å¤±æ•—ã—ã¾ã™  
â†’ `Remove-Item .\records.csv` ã§å‰Šé™¤ã—ã¦ã‹ã‚‰å†å–å¾—  
- ãƒãƒ¼ãƒˆç«¶åˆæ™‚ã¯ `netstat -ano | findstr :8082` â†’ `Stop-Process -Id <PID> -Force`
- `data.sql` ã®ãƒ†ãƒ¼ãƒ–ãƒ«åã¯ JPA ã® `@Table(name = "record")` ã¨ä¸€è‡´ã•ã›ã‚‹ã“ã¨
- `application.properties` ã«ä»¥ä¸‹ã®è¨­å®šãŒå¿…è¦ï¼š

```properties
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data.sql


âœ… å®Ÿè¡Œå¯¾è±¡ã® .jar ãƒ•ã‚¡ã‚¤ãƒ«
- ç”Ÿæˆå ´æ‰€ï¼šbuild/libs/record-api-0.0.1-SNAPSHOT.jar
- å®Ÿè¡Œå¯¾è±¡ï¼šSpring Boot ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆRecordApiApplication ãŒ mainClassï¼‰

âœ… å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ï¼ˆWindowsï¼‰
curl http://localhost:8085/api/records/health

âœ… å¿œç­”ãŒ OK ãªã‚‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ­£å¸¸ã«èµ·å‹•ã—ã¦ã„ã‚‹

âœ… CSVå‡ºåŠ›ç¢ºèª
curl http://localhost:8085/api/records/export -o records.csv

- ãƒãƒ¼ãƒˆï¼š`8085`
- å®Ÿè¡Œå¯¾è±¡ï¼š`RecordApiApplication`
- å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ï¼š`records.csv`

cd C:\Users\C20\Desktop\shared-server-final\electron-ui\resources\nc-manager
node server.js